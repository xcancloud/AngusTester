[//]: # (场景管理)

[//]: # (=====)

AngusTester的场景管理功能为开发和测试团队提供了一个强大的工具，帮助他们更有效地组织复杂的测试需求。通过对场景的创建、编辑、场景及管理，团队能够提升测试过程的效率和可靠性。

***AngusTester场景是通过图形化界面方式编排测试任务，可以完全替代手动编写自动化测试脚本。场景编排保存后，会生成一个对应测试脚本，可以在脚本中查看场景的脚本。***

## 一、场景信息

在AngusTester中，每个脚本包含以下字段信息：

- ID：每个场景的唯一标识符，创建场景后自动分配。
- 项目ID：场景所属项目唯一标识符。
- 名称: 场景名称，用于简洁明了地描述其功能或目的。
- 插件名称: 场景插件的名称，在场景时会根据名称自动加载最新版本插件运行场景。
- 脚本类型: 场景脚本的类型，有助于管理和分类不同的任务。
- 脚本ID: 编排场景后保存成脚本的唯一标识符。
- 是否授权控制：指示该场景是否受到授权控制，影响访问权限。
- 开启功能测试标志：指示是否启用功能测试。
- 功能测试通过标志：记录功能测试是否通过。
- 功能测试未通过原因：如果功能测试未通过，此字段记录具体原因，便于后续分析。
- 开启性能测试标志：指示是否启用性能测试。
- 性能测试通过标志：记录性能测试是否通过。
- 性能测试未通过原因：记录性能测试未通过的原因。
- 开启稳定性测试标志：指示是否启用稳定性测试。
- 稳定性测试通过标志：记录稳定性测试是否通过。
- 稳定性测试未通过原因：记录稳定性测试未通过的具体原因。
- 创建人：创建该场景的用户。
- 创建时间：创建场景的时间。
- 最后修改人：最后修改该场景的用户。
- 最后修改时间：最后一次修改场景的时间。

## 二、场景操作

### 1、添加场景

创建新的测试场景，具体支持任务请查看：[测试任务编排](https://www.xcan.cloud/help/doc/205509853639082016?c=206089938364531762)。

具体步骤：

1. 登录AngusTester，进入“场景”管理界面。
2. 选择需要编排的测试任务，如果是Http测试任务，点击“添加Http场景”按钮。
   ![](https://bj-c1-prod-files.xcan.cloud/storage/pubapi/v1/file/sce-add.png?fid=251751339858592112&fpt=8k3MJOx9Qk5qBc1GC11HK18iozTAwIUyxh3FwMnm)
3. 在打开的场景编排页面编排Http请求。
   ![](https://bj-c1-prod-files.xcan.cloud/storage/pubapi/v1/file/sce-add-view.png?fid=251751339858592110&fpt=xYZA7S2wf9bf0fHwoLqgPTzes8AEoG4VgT9H0pd4)
4. 根据测试需求或关注点修改相应执行配置。
   ![](https://bj-c1-prod-files.xcan.cloud/storage/pubapi/v1/file/sce-config.png?fid=251751339858592116&fpt=cHOgypUNoa53SrVo2AldXxiz8ISDY6LdkUQZ9wua)
5. 点击右上角“保存”按钮后填写场景基本。
   ![](https://bj-c1-prod-files.xcan.cloud/storage/pubapi/v1/file/sce-save.png?fid=251751339858592124&fpt=BCox7gdJZWJyWcNeTsiIYDmTbqeBSvxQ67J36bAZ)
6. 最后点击“确认”完成场景创建。

***注意事项：***

- 确保名称唯一，描述清晰。
- 除了手动编辑Http请求之外，也可以通过“选择接口”和“选择用例”导入已存在Http请求。

### 2、调试场景

测试和修复场景中的逻辑错误。

具体步骤：

1. 登录AngusTester，进入“场景”管理界面。
2. 在场景列表中选择要调试的场景，点击场景名称进入场景。
3. 点击“调试”按钮，系统将加载运行场景编排任务。
   ![](https://bj-c1-prod-files.xcan.cloud/storage/pubapi/v1/file/sce-debug.png?fid=251751339858592118&fpt=08oUmdKZR0clX0tpTSlNDheZYpM56QECVEXwFwtJ)
4. 调试结果返回后，根据调度和采样日志确认是否符合预期。

### 3、编辑场景

修改现有场景的基本信息、测试步骤和场景配置。

具体步骤：

1. 登录AngusTester，进入“场景”管理界面。
2. 在场景列表中选择要编辑的场景，点击场景名称或编辑按钮进入场景。
3. 根据需要修改测试任务、执行配置或场景基本信息。
4. 最后点击“保存”完成修改。

### 4、设置场景测试指标

用于开启场景功能、稳定性、和性能测试，并配置测试指标。***开启测试后场景测试会被标记为必须的活动，并且测试结果将包含在效能分析中。***

具体步骤：

1. 登录AngusTester，进入“场景”管理界面。
2. 在场景列表中选择要设置测试指标的场景。
3. 在右侧“测试指标”中开启对应业务所关注的类型测试，如果需要调整指标，可以点击“修改指标”调整测试指标。
   ![](https://bj-c1-prod-files.xcan.cloud/storage/pubapi/v1/file/sce-ind-set.png?fid=251751339858592120&fpt=uGIeGEoiyzqsUjyOdwNpgGSCjene7pIEOyfavnBP)
4. 最后点击“保存”完成修改。

***注意事项：***

- 只有Http协议支持开启测试和修改测试指标。

### 5、查看场景测试结果

用于查看场景功能、稳定性、和性能测试结果。

具体步骤：

1. 登录AngusTester，进入“场景”管理界面。
2. 在场景列表中选择要设置测试指标的场景。
3. 在右侧“测试结果”中查看对应测试类型的测试结果。
   ![](https://bj-c1-prod-files.xcan.cloud/storage/pubapi/v1/file/sce-result.png?fid=251751339858592122&fpt=dGsMHcwFvAKFArN3Q0PR92xQ5wa1gaSTSXvlRWFN)

***注意事项：***

- 只有Http协议支持查看测试结果。

### 6、查看场景活动

用于查看场景修改记录，用于用户操作记录审计。

具体步骤：

1. 登录AngusTester，进入“场景”管理界面。
2. 在场景列表中选择要查看活动的场景。
3. 在右侧“活动”中查看用户操作记录。

### 7、对场景评论

为当前场景添加新的评论，以记录重要信息或反馈。

具体步骤：

1. 登录AngusTester，进入“场景”管理界面。
2. 在场景列表中选择要评论的场景。
3. 在右侧“评论”中输入评论内容。
4. 最后点击“发布评论”完成修改。

### 8、克隆场景

复制现有场景以便进行修改或重用。

具体步骤：

1. 登录AngusTester，进入“场景”管理界面。
2. 在场景列表中点击对应场景的克隆图标。
   ![](https://bj-c1-prod-files.xcan.cloud/storage/pubapi/v1/file/sce-clone.png?fid=251751339858592114&fpt=HoeCEYSddjEq3ugVrTautx9s1QGxNIznHjNvZgE5)
3. 点击后系统会自动复制一个当前场景的副本，按照需要编辑场景。
4. 最后保存新克隆场景。
   
***注意事项：***

- 确保克隆场景的名称与已有场景不重复。

### 9、执行场景测试

运行场景测试，验证系统在特定场景下的功能和性能表现，确保系统能够满足用户需求和业务逻辑。

具体步骤：

1. 登录AngusTester，进入“场景”管理界面。
2. 在场景列表中需要执行测试的场景，点击场景“执行测试”按钮。
3. 系统将自动创建一个执行开始运行场景，可以在“执行”中查看场景执行详细信息。

### 10、删除场景

移除不再需要的场景务。

操作步骤:

1. 登录AngusTester，进入“场景”管理界面。
2. 在场景列表中找到对应场景，点击删除图标按钮。
3. 确认删除操作，场景测试将移到回收站。

***注意事项：***

- 如果需要找回场景，可以在场景回收站找回。
- 清除回收站迭代会删除场景同时，场景对应测试脚本也会被删除。

### 11、关注场景

标记某个场景为关注状态，以便于后续跟踪和管理，此外，关注后场景被修改或状态变更，关注人会收到相应事件通知。

1. 登录AngusTester，进入“场景”管理界面。
2. 在场景列表中需要关注的场景，点击场景“关注”按钮。
3. 系统将该场景添加到场景“主页”我“关注的”列表中。

***注意事项：***

- 关注场景后，可以在个人场景主页上快速查看进展。
- 取消关注时，请确保不再需要跟踪该场景。

### 12、收藏场景

将重要或优先级高的场景添加到收藏列表，便于快速访问。

1. 登录AngusTester，进入“场景”管理界面。
2. 在场景列表中需要收藏的场景，点击场景“收藏”按钮。
3. 系统将该场景添加到场景“主页”我“收藏的”列表中。

***注意事项：***

- 收藏的场景便于快速访问，适合需要频繁查看的场景。
- 可以随时取消收藏，保持收藏列表的整洁。

### 13、导出脚本

将当前场景脚本保存为外部文件，便于分享或在其他项目中使用。

操作步骤:

1. 登录AngusTester，进入“场景”管理界面。
2. 在场景列表中找到要导出的脚本场景，点击“导出”按钮。
3系统会将场景脚本下载到本地。

### 14、生成测试任务

基于场景生成具体的测试任务，实现测试任务跟踪与管理，同时作为效能分析的一部分。

操作步骤：

1. 登录AngusTester，进入“场景”管理界面。
2. 在场景列表中找到需要生成测试任务的场景，点击“生成测试任务”按钮。
3. 在弹窗里输入所属迭代、测试类型、任务经办人、截止时间等任务信息。
4. 点击“确定”，系统会自动生成对应测试任务，可以在“任务”模块查看和追踪生成的任务。

***注意事项：***

- 生成的任务应与团队的测试计划相符合。

### 15、重新打开测试任务

重置打开场景测试任务可以将场景测试任务状态恢复到未开始状态，以便重新配置或分配，***处理次数等指标不会被清除***。

操作步骤：

1. 登录AngusTester，进入“场景”管理界面。
2. 在场景列表中找到对应场景，点击“重新打开测试任务”按钮。
3. 系统将场景测试任务状态更新为“待处理”。

***注意事项：***

- 重新打开后，任务相关指标和状态不会被重置。
- 仅对状态为结束状态(已完成、已取消)的任务可进行重新打开操作。

### 16、重新开始测试任务

重新开始任务将场景测试任务状态更改为“进行中”，并可以继续进行处理，***处理次数等指标会被清除***。

操作步骤：

1. 登录AngusTester，进入“场景”管理界面。
2. 在场景列表中找到对应场景，点击“重新开始测试任务”按钮。
3. 系统将场景测试任务状态更新为“待处理”。

***注意事项：***

- 重新开始后，任务相关指标和状态会被重置。
- 仅对状态为结束状态(已完成、已取消)的任务可进行重新开始操作。

### 17、删除测试任务

移除不再需要的场景测试任务。

操作步骤:

1. 登录AngusTester，进入“场景”管理界面。
2. 在场景列表中找到对应场景，点击“删除测试任务”按钮。
3. 确认删除操作，场景测试任务将被永久移除。

