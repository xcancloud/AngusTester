节点监控指标
=====

在性能测试中，监控压测节点和被压节点的资源，有助于全面评估系统性能，确保测试有效性，准确识别瓶颈，优化资源分配，并提高结果可信度。为测试人员辅助问题诊断，优化测试策略，模拟真实场景，预测系统容量，以及进行成本效益分析。

以下详细介绍了[AngusTester](https://www.xcan.cloud)节点监控的各类指标，包括它们的定义、计算方法、使用场景以及解释指南。

## CPU 指标

用于评估系统 CPU 的使用情况，有助于识别 CPU 瓶颈和优化计算资源分配。

| 指标       | 描述                         | 作用                  | 计算公式                   |
| ---------- | ---------------------------- | --------------------- | -------------------------- |
| 空闲率     | CPU 空闲时间百分比           | 反映 CPU 的闲置程度   | (空闲时间 / 总时间) × 100% |
| 系统使用率 | CPU 用于系统任务的时间百分比 | 评估系统开销          | (系统时间 / 总时间) × 100% |
| 用户使用率 | CPU 用于用户进程的时间百分比 | 评估应用程序 CPU 占用 | (用户时间 / 总时间) × 100% |
| 等待率     | CPU 等待 I/O 的时间百分比    | 识别 I/O 瓶颈         | (等待时间 / 总时间) × 100% |
| 其他使用率 | CPU 用于其他任务的时间百分比 | 评估其他 CPU 开销     | (其他时间 / 总时间) × 100% |
| 总使用率   | CPU 总体使用率               | 评估整体 CPU 负载     | 100% - 空闲率              |

## 内存指标

用于评估系统内存使用情况，对于识别内存瓶颈和优化内存分配至关重要。

### 物理内存

| 指标           | 描述                 | 作用               | 计算公式                       |
| -------------- | -------------------- | ------------------ | ------------------------------ |
| 空闲内存       | 未使用的物理内存量   | 评估可用内存资源   | N/A                            |
| 已用内存       | 已使用的物理内存量   | 评估内存占用情况   | N/A                            |
| 空闲内存百分比 | 空闲物理内存的百分比 | 快速判断内存充足度 | (空闲内存 / 总物理内存) × 100% |
| 已用内存百分比 | 已用物理内存的百分比 | 评估内存压力       | (已用内存 / 总物理内存) × 100% |

### 虚拟内存（交换区）

| 指标       | 描述               | 作用                 | 计算公式 |
| ---------- | ------------------ | -------------------- | -------- |
| 空闲交换区 | 未使用的交换区大小 | 评估虚拟内存可用资源 | N/A      |
| 已用交换区 | 已使用的交换区大小 | 评估虚拟内存使用情况 | N/A      |

### 总内存（物理+虚拟）

| 指标               | 描述                       | 作用                   | 计算公式                       |
| ------------------ | -------------------------- | ---------------------- | ------------------------------ |
| 实际空闲内存       | 物理和虚拟内存中的总空闲量 | 评估整体可用内存       | 空闲物理内存 + 空闲交换区      |
| 实际已用内存       | 物理和虚拟内存中的总使用量 | 评估整体内存使用情况   | 已用物理内存 + 已用交换区      |
| 实际空闲内存百分比 | 总空闲内存占比             | 快速判断整体内存充足度 | (实际空闲内存 / 总内存) × 100% |
| 实际已用内存百分比 | 总已用内存占比             | 评估整体内存压力       | (实际已用内存 / 总内存) × 100% |

## 文件系统指标

用于评估文件系统的使用情况，有助于监控存储空间和规划容量。

| 指标     | 描述                     | 作用                 | 计算公式                   |
| -------- | ------------------------ | -------------------- | -------------------------- |
| 空闲空间 | 文件系统中的未使用空间   | 评估剩余存储容量     | N/A                        |
| 已用空间 | 文件系统中的已使用空间   | 评估存储使用情况     | N/A                        |
| 可用空间 | 文件系统中可供使用的空间 | 评估实际可用存储容量 | N/A                        |
| 使用率   | 文件系统使用百分比       | 快速判断存储压力     | (已用空间 / 总空间) × 100% |

**注意事项：AngusTester默认监控代理程序（AngusAgent）进程所在文件设备的资源信息，监控自定义目录需修改代理配置。**

## 磁盘指标

用于评估存储设备的性能和使用情况，对于识别 I/O 瓶颈很有帮助。

| 指标         | 描述               | 作用              | 计算公式              |
| ------------ | ------------------ | ----------------- | --------------------- |
| 总操作数     | 磁盘读写操作总数   | 评估整体 I/O 负载 | 读操作数 + 写操作数   |
| 读取速率     | 每秒磁盘读取操作数 | 评估读取性能      | 读操作数 / 时间间隔   |
| 写入速率     | 每秒磁盘写入操作数 | 评估写入性能      | 写操作数 / 时间间隔   |
| 读取字节速率 | 每秒读取的字节数   | 评估读取吞吐量    | 读取字节数 / 时间间隔 |
| 写入字节速率 | 每秒写入的字节数   | 评估写入吞吐量    | 写入字节数 / 时间间隔 |

## 网络指标

用于评估系统的网络性能和使用情况，对于评估网络瓶颈和带宽使用至关重要。

| 指标         | 描述               | 作用             | 计算公式                    |
| ------------ | ------------------ | ---------------- | --------------------------- |
| 接收字节数   | 网络接收的总字节数 | 评估网络接收流量 | N/A                         |
| 接收字节速率 | 每秒接收的字节数   | 评估网络接收性能 | 接收字节数变化量 / 时间间隔 |
| 接收错误数   | 网络接收错误的总数 | 评估网络接收质量 | N/A                         |
| 发送字节数   | 网络发送的总字节数 | 评估网络发送流量 | N/A                         |
| 发送字节速率 | 每秒发送的字节数   | 评估网络发送性能 | 发送字节数变化量 / 时间间隔 |

通过合理使用这些节点监控指标，测试人员可以全面了解系统的运行状况，及时发现潜在的性能问题，并做出相应的优化决策。
